 name: Claude Code

  on:
    issue_comment:
      types: [created]
    pull_request_review_comment:
      types: [created]
    issues:
      types: [opened]

  permissions:
    contents: write
    pull-requests: write
    issues: write

  jobs:
    claude:
      if: |
        contains(github.event.comment.body, '@claude') ||
        (github.event_name == 'issues' && contains(github.event.issue.body,
  '@claude'))
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4
        - uses: anthropics/claude-code-action@v1
          with:
            anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
